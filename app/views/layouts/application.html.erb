<!DOCTYPE html>
<html class>
  <head>
    <title>FocusTime</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>

    <%= javascript_importmap_tags %>
  </head>

  <body class="bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-white font-sans transition-colors duration-300">
    
    <!-- Top Navigation -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm">
      <div class="max-w-4xl mx-auto px-4 py-3 flex items-center justify-between">
        <h1 class="text-xl font-bold text-blue-700 m-0">
          <%= link_to "FocusTime", root_path, class: "hover:underline" %>
        </h1>
        
        <div class="flex items-center space-x-4 text-sm">
          <%= link_to "Tasks", tasks_path, class: "text-gray-700 hover:text-blue-600 font-medium" %>
          <%= link_to "History", focus_sessions_path, class: "text-gray-700 hover:text-blue-600 font-medium" %>
          <%= link_to "Analytics", analytics_path, class: "text-gray-700 hover:text-blue-600 font-medium" %>
          <%= link_to "New Task", new_task_path, class: "bg-blue-600 text-white px-3 py-1.5 rounded hover:bg-blue-700 transition" %>

          <!-- GitHub link -->
          <%= link_to "🐙", "https://github.com/fpremuz/focustime", target: "_blank", class: "text-gray-500 hover:text-black text-xl", title: "View on GitHub" %>
          
          <button id="toggle-theme" class="cursor-pointer text-xs text-gray-500 hover:text-gray-700" title="Toggle Dark Mode">🌓</button>       
        </div>
      </div>
    </nav>

    <!-- Main Page Content -->
    <div class="max-w-4xl mx-auto p-6">
      <%= yield %>
    </div>
  </body>
</html>